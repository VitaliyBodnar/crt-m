<!-- @if (transactions?.length) {
  <div class="transactions-table">
    <table mat-table [dataSource]="transactions" class="mat-elevation-z8">

      <ng-container matColumnDef="amount">
        <th mat-header-cell *matHeaderCellDef>Amount</th>
        <td mat-cell *matCellDef="let element">
          <div class="transactions-table__amount">
            <b>{{ element.historicalUSD | numberFormatter }}$</b>
            <span
              >({{ element.blockTimestamp | date: "HH:mm" : "UTC+3" }})</span
            >
          </div>
        </td>
      </ng-container>

      <ng-container matColumnDef="from">
        <th mat-header-cell *matHeaderCellDef>From</th>
        <td mat-cell *matCellDef="let element">
          <div class="transactions-table__name">
            <div class="transactions-table__name-img">
              <img
                [src]="element.token0Id | transactionsTokenName"
                [alt]="element.token0Id"
              />
            </div>
            <b>{{ element.token0Symbol }}</b>
            <b>{{ element.unitValue0 | numberFormatter }}</b>
          </div>
        </td>
      </ng-container>

      <ng-container matColumnDef="to">
        <th mat-header-cell *matHeaderCellDef>To</th>
        <td mat-cell *matCellDef="let element">
          <span class="transactions-table__name">
            <div class="transactions-table__name-img">
              <img
                [src]="element.token1Id | transactionsTokenName"
                [alt]="element.token1Id"
              />
            </div>
            <b>{{ element.token1Symbol }}</b>
            <b>{{ element.unitValue1 | numberFormatter }}</b>
          </span>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
} -->

@if (transactions.length) {
<table>
  <thead>
    <tr>
      <th scope="col">Transaction</th>
      <th scope="col">Sell</th>
      <th scope="col">By</th>
    </tr>
  </thead>
  <tbody>
    @for (row of transactions; track row.token0Id) {
    <tr>
      <td data-label="Transaction">
        <div class="transactions-table__amount">
          <i>{{ row.blockTimestamp | date : "HH:mm" : "UTC+3" }}</i>
          <b>{{ row.historicalUSD | numberFormatter }}$</b>
        </div>
      </td>
      <td data-label="Sell">
        <div class="transactions-table__name">
          <div class="transactions-table__name-img">
            <img
              [src]="row.token0Id | transactionsTokenName"
              [alt]="row.token0Id"
            />
            {{ row.token0Symbol }}
          </div>
          <b>
            {{
              (row.historicalUSD | mathAbs) / (row.unitValue0 | mathAbs)
                | numberFormatter
            }}$
          </b>
          <b style="color: rgb(246, 65, 65)">{{
            row.unitValue0 | numberFormatter
          }}</b>
        </div>
      </td>
      <td data-label="By">
        <div class="transactions-table__name">
          <div class="transactions-table__name-img">
            <img
              [src]="row.token1Id | transactionsTokenName"
              [alt]="row.token1Id"
            />
            {{ row.token1Symbol }}
          </div>
          <b>
            {{
              (row.historicalUSD | mathAbs) / (row.unitValue1 | mathAbs)
                | numberFormatter
            }}$
          </b>
          <b style="color: green">{{ row.unitValue1 | numberFormatter }}</b>
        </div>
      </td>
    </tr>
    }
  </tbody>
</table>
}
